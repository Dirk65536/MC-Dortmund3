<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MC Dortmund ‚Äì Termine</title>

<style>
:root{
  --bg:#f4f4f4;
  --text:#111;
  --card:#ffffff;
  --accent:#d40000;
}

body.dark{
  --bg:#121212;
  --text:#f0f0f0;
  --card:#1e1e1e;
  --accent:#ff3b3b;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  overflow-x:hidden;
  transition:0.3s;
}

/* NAV */
nav{
  position:sticky;
  top:0;
  background:#111;
  color:white;
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  z-index:1000;
}

/* HERO */
.hero{
  position:relative;
  overflow:hidden;
}

.hero img{
  width:100%;
  animation:zoomHero 18s ease-in-out infinite alternate;
}

@keyframes zoomHero{
  from{transform:scale(1);}
  to{transform:scale(1.08);}
}

.hero-text{
  position:absolute;
  bottom:30px;
  left:40px;
  background:rgba(0,0,0,0.6);
  color:white;
  padding:20px 30px;
  border-radius:10px;
}

/* CONTENT */
.content{
  margin:2rem;
}

/* COUNTDOWN */
.countdown{
  font-size:1.2rem;
  margin-bottom:1.5rem;
  font-weight:bold;
}

/* EVENT CARD */
.event-card{
  display:flex;
  background:var(--card);
  margin-bottom:1rem;
  border-radius:12px;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
  overflow:hidden;
}

.event-date{
  background:var(--accent);
  color:white;
  padding:20px;
  min-width:90px;
  text-align:center;
  font-weight:bold;
}

.event-info{
  padding:15px 20px;
  flex:1;
}

.calendar-btn{
  display:inline-block;
  margin-top:8px;
  padding:6px 12px;
  background:#111;
  color:white;
  text-decoration:none;
  border-radius:6px;
  font-size:0.8rem;
}

.calendar-btn:hover{
  background:#333;
}

/* GALLERY */
.gallery{
  margin-top:2rem;
  display:flex;
  flex-wrap:wrap;
  gap:15px;
}

.gallery-item{
  cursor:pointer;
}

.gallery img{
  width:250px;
  border-radius:12px;
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
  transition:0.3s;
}

.gallery img:hover{
  transform:scale(1.05);
}

/* LIGHTBOX */
.lightbox{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.85);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:2000;
}

.lightbox img{
  max-width:90%;
  max-height:90%;
  border-radius:10px;
}

/* FOOTER */
#lastUpdate{
  margin:2rem;
  font-size:0.8rem;
}

/* MOBILE */
@media(max-width:768px){
  .hero-text{
    left:15px;
    bottom:15px;
    padding:12px 18px;
  }

  .content{
    margin:1rem;
  }

  .event-card{
    flex-direction:column;
  }

  .gallery{
    flex-direction:column;
    align-items:center;
  }

  .gallery img{
    width:100%;
  }
}
</style>
</head>

<body>

<nav>
  <div>MC Dortmund</div>
  <div>
    <button onclick="toggleDarkMode()">üåô</button>
    <a href="impressum.html" style="color:white;text-decoration:none;margin-left:15px;">Impressum</a>
  </div>
</nav>

<div class="hero">
  <img src="./images/Offroadstrecke1.png" />
  <div class="hero-text">
    <h1>MC Dortmund</h1>
    Offroad ‚Ä¢ Training ‚Ä¢ Events
  </div>
</div>

<div class="content">

<div class="countdown" id="countdown"></div>

<h2>Termine</h2>

<div id="lastUpdate">Letzte √Ñnderung: Lade‚Ä¶</div>
  
<div id="events-container"><div class="event-card">
    <div class="event-date">13<br>FEB 26</div>
    <div class="event-info">
      Freies Training in der Halle
      <br>
      <a class="calendar-btn" href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Freies+Training&dates=20260213T180000/20260213T210000">‚ûï Add to Calendar</a>
    </div>
  </div>
<div class="event-card">
    <div class="event-date">01<br>M√ÑR 26</div>
    <div class="event-info">
      XXX Cup
      <br>
      <a class="calendar-btn" href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=XXX+Cup&dates=20260301T090000/20260301T170000">‚ûï Add to Calendar</a>
    </div>
  </div>
<div class="event-card">
    <div class="event-date">15<br>M√ÑR 26</div>
    <div class="event-info">
      XXX Cup
      <br>
      <a class="calendar-btn" href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=XXX+Cup&dates=20260301T090000/20260301T170000">‚ûï Add to Calendar</a>
    </div>
  </div>
<div class="event-card">
    <div class="event-date">15<br>APR 26</div>
    <div class="event-info">
      Nichtstun
      <br>
      <a class="calendar-btn" href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=XXX+Cup&dates=20260301T090000/20260301T170000">‚ûï Add to Calendar</a>
    </div>
  </div>
<div class="event-card">
  <div class="event-date">20<br>MAR 26</div>
  <div class="event-info">
    Neuer Termin
    <br>
    <a class="calendar-btn" href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Neuer+Termin&dates=20260320T180000/20260320T210000">‚ûï Add to Calendar</a>
  </div>

</div>
<div class="event-card">
  <div class="event-date">20<br>MAR 26</div>
  <div class="event-info">
    Neuer Termin2
    <br>
    <a class="calendar-btn" href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Neuer+Termin&dates=20260320T180000/20260320T210000">‚ûï Add to Calendar</a>
  </div>
</div></div>
  

<h2>Galerie</h2>

<div class="gallery">
  <div class="gallery-item">
    <img src="./images/Offroadstrecke1.png" onclick="openLightbox(this.src);" />
  </div>

  <div class="gallery-item">
    <img src="./images/tamiya-neo-fighter-dt-03-kit-58587.jpg" onclick="openLightbox(this.src);" />
  </div>

  <div class="gallery-item">
    <img src="./images/Arrma-Quake.jpg" onclick="openLightbox(this.src);" />
  </div>

  <div class="gallery-item">
    <img src="./images/arrma-fury-mega-550-2wd-1-10-green.jpg" onclick="openLightbox(this.src);" />
  </div>

  <div class="gallery-item">
    <img src="./images/TT01-Mercedes.jpg" onclick="openLightbox(this.src);" />
  </div>

  <div class="gallery-item">
    <img src="./images/Tamiya-WildWilly.jpg" onclick="openLightbox(this.src);" />
  </div>

  <div class="gallery-item">
    <img src="./images/Traxxas-Rustler-4x4.jpg" onclick="openLightbox(this.src);" />
  </div>

</div>

<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <img id="lightboxImg" />
</div>

<audio id="engineSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_4b4f06c42f.mp3?filename=engine-start-10031.mp3"></audio>

<script>

function toggleDarkMode(){
  document.body.classList.toggle("dark");
}

function openLightbox(src){
  document.getElementById("lightboxImg").src=src;
  document.getElementById("lightbox").style.display="flex";
}
function closeLightbox(){
  document.getElementById("lightbox").style.display="none";
}

fetch(`https://api.github.com/repos/Dirk65536/MC-Dortmund3/commits?path=index.html&page=1&per_page=1`)
.then(r=>r.json())
.then(d=>{
  if(d.length>0){
    const date=new Date(d[0].commit.committer.date);
    document.getElementById("lastUpdate").innerText=
    "Letzte √Ñnderung: "+date.toLocaleString();
  }
});

let soundPlayed=false;
document.body.addEventListener("click",function(){
  if(!soundPlayed){
    document.getElementById("engineSound").play();
    soundPlayed=true;
  }
});

function getNextEventDate(){
  const buttons = document.querySelectorAll(".calendar-btn");
  const now = new Date();
  let futureDates = [];

  buttons.forEach(btn=>{
    const href = btn.href;
    const match = href.match(/dates=(\d{8}T\d{6})/);
    if(match){
      const raw = match[1];
      const formatted =
        raw.substring(0,4) + "-" +
        raw.substring(4,6) + "-" +
        raw.substring(6,8) + "T" +
        raw.substring(9,11) + ":" +
        raw.substring(11,13) + ":" +
        raw.substring(13,15);
      
      const date = new Date(formatted);
      if(date > now){
        futureDates.push(date);
      }
    }
  });

  if(futureDates.length === 0) return null;

  futureDates.sort((a,b)=>a-b);
  return futureDates[0];
}

function updateCountdown(){
  const countdownEl = document.getElementById("countdown");
  const nextEvent = getNextEventDate();

  if(!nextEvent){
    countdownEl.innerText = "üèÅ Kein zuk√ºnftiges Event geplant";
    return;
  }

  const now = new Date();
  const diff = nextEvent - now;

  const days = Math.floor(diff/(1000*60*60*24));
  const hours = Math.floor((diff/(1000*60*60))%24);
  const minutes = Math.floor((diff/(1000*60))%60);
  const seconds = Math.floor((diff/1000)%60);

  countdownEl.innerText =
    `üèÅ N√§chstes Event in ${days} Tagen`;
  <!-- , ${hours}h ${minutes}m ${seconds}s -->
}

setInterval(updateCountdown,1000);
updateCountdown();

</script>
</div></body>
</html>




